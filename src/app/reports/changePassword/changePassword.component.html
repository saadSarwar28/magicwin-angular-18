<div class="change-password-compo position-relative">
  <div class="overlay d-flex justify-content-center" *ngIf="showLoader">
    <img [src]="siteLoader" width="120px" alt="Loading..." />
  </div>
  <div class="row">
    <div class="page_top_area col s12">
      <div class="section_bg_box">
        <h4 class="change-password-heading text-center sm-fs-17 mb-3">{{'changepassword' | translate}}</h4>
        <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" autocomplete="autocomplete_off_hack_xfr4!k">
          <div class="input_field_with_logo">
            <div class="position-relative ">
              <span class="d-flex align-items-center form-control">

                <span class="user_icon">
                  <i class="bi bi-lock"></i>
                </span>
                <input id="oldPassword" [type]="!currentPassword ? 'password' : 'text'" name="current_pass" spaceRemover
                  class="form-control " placeholder="{{'currentpassword' | translate}}"
                  formControlName="current_pass" (change)="OldPassCompare()" autofocus>
                <a class="pointer me-1 user_icon" (click)="currentPassword = !currentPassword">
                  <i [class.bi-eye-slash]="!currentPassword" [class.bi-eye]="currentPassword"></i>
                </a>
              </span>
            </div>
            <div *ngIf="current_pass?.invalid && (current_pass?.dirty || current_pass?.touched)" class="err-msg mt-1">
              <span *ngIf="current_pass?.errors?.required">{{"passwordisrequired" | translate}}</span>
              <span *ngIf="current_pass?.errors?.error">{{current_pass?.errors?.error | translate}}</span>
            </div>
          </div>
          <div class="input_field_with_logo">
            <div class="position-relative">
              <span class="d-flex align-items-center form-control mt-2">
                <span class="user_icon">
                  <i class="bi bi-lock"></i>
                </span>
                <input id="cpassInput" (input)="onPasswordChange()" [type]="!newPassword ? 'password' : 'text'"
                  spaceRemover placeholder="{{'newpassword' | translate}}" name="new_pass" class="form-control"
                  formControlName="new_pass">
                <a class="pointer me-1 user_icon" (click)="newPassword = !newPassword">
                  <i [class.bi-eye-slash]="!newPassword" [class.bi-eye]="newPassword"></i>
                </a>
              </span>
            </div>
            <div class="form-control" *ngIf="new_pass?.invalid && (new_pass?.dirty || new_pass?.touched)"
              class="err-msg mt-1">
              <span *ngIf="new_pass?.errors?.required">
                {{"Password is required." | translate}}
              </span>
              <span *ngIf="new_pass?.errors?.minlength">
                Password must be 8 characters long.
              </span>
            </div>
          </div>
          <div class="input_field_with_logo">
            <div class="position-relative">
              <span class="d-flex align-items-center form-control mt-2">
                <span class="user_icon">
                  <i class="bi bi-lock"></i>
                </span>
                <input id="confirmPassInput" (input)="onPasswordChange()" spaceRemover
                  [type]="!confirmPassword ? 'password' : 'text'" placeholder="{{'confirmnewpassword' | translate}}"
                  class="form-control" name="confirm_pass" formControlName="confirm_pass">
                <a class="pointer me-1 user_icon" (click)="confirmPassword = !confirmPassword">
                  <i [class.bi-eye-slash]="!confirmPassword" [class.bi-eye]="confirmPassword"></i>
                </a>
              </span>
            </div>
            <ng-container *ngIf="confirm_pass?.invalid && (confirm_pass?.dirty || confirm_pass?.touched)">
              <span *ngIf="confirm_pass?.errors?.required" class="err-msg mt-1">
                {{'confirmpasswordreq' | translate}}
              </span>
              <span *ngIf="confirm_pass?.errors?.mismatch" class="err-msg">
                {{"confirmpasswordnotmatched" | translate}}
              </span>
            </ng-container>
          </div>
          <div class="form_btn_box d-flex mt-3">
            <button type="submit" [disabled]="passwordForm.invalid"
              class="login-btn btn-theme pointer">{{'changepassword' | translate}}</button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>
